[
  {
    "pageCode": "start",
    "message": [],
    "previousPageCode": null,
    "buttons": [[]]
  },
  {
    "pageCode": "lang",
    "message": [
      "choose.language"
    ],
    "previousPageCode": "start",
    "buttons": [
      [
        {
          "textCode": "uz.flag",
          "callBack": "uz",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        },
        {
          "textCode": "ru.flag",
          "callBack": "ru",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        },
        {
          "textCode": "en.flag",
          "callBack": "en",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "role",
    "message": [
      "choose.option"
    ],
    "previousPageCode": "lang",
    "buttons": [
      [
        {
          "textCode": "btn.driver",
          "callBack": "driver_menu",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        },
        {
          "textCode": "btn.passenger",
          "callBack": "passenger_menu",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "driver_menu",
    "message": [
      "driver.menu"
    ],
    "previousPageCode": "role",
    "buttons": [
      [
        {
          "textCode": "join.to.group",
          "callBack": null,
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "role",
              "value": "driver"
            }
          ]
        }
      ],
      [
        {
          "textCode": "btn.back",
          "callBack": "role",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "passenger_menu",
    "message": [
      "passenger.menu"
    ],
    "previousPageCode": "role",
    "buttons": [
      [
        {
          "textCode": "btn.create.order",
          "callBack": "phone_number",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "role",
              "value": "passenger"
            }
          ]
        }
      ],
      [
        {
          "textCode": "btn.my.orders",
          "callBack": "my_orders",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "role",
              "value": "passenger"
            }
          ]
        }
      ],
      [
        {
          "textCode": "btn.back",
          "callBack": "role",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "phone_number",
    "message": [
      "share.phone.number"
    ],
    "previousPageCode": "passenger_menu",
    "buttons": [
      [
        {
          "textCode": "btn.share.contact",
          "buttonType": "ReplyKeyboardMarkup",
          "conditions": [
            {
              "type": "input_exists",
              "field": "phone"
            }
          ]
        }
      ]
    ]
  },
  {
    "pageCode": "order_from",
    "message": [
      "send.location"
    ],
    "previousPageCode": "phone_number",
    "buttons": [
      [
        {
          "textCode": "btn.city.kokand",
          "callBack": "order_to",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "has_phone",
              "value": true
            }
          ]
        },
        {
          "textCode": "btn.city.tashkent",
          "callBack": "order_to",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "has_phone",
              "value": true
            }
          ]
        }
      ]
    ]
  },
  {
    "pageCode": "order_to",
    "message": [
      "send.location"
    ],
    "previousPageCode": "order_from",
    "buttons": [
      [
        {
          "textCode": "btn.city.kokand",
          "callBack": "order_date",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "has_from_location",
              "value": true
            }
          ]
        },
        {
          "textCode": "btn.city.tashkent",
          "callBack": "order_date",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "has_from_location",
              "value": true
            }
          ]
        }
      ]
    ]
  },
  {
    "pageCode": "order_date",
    "message": [
      "departure.date"
    ],
    "previousPageCode": "order_to"
  },
  {
    "pageCode": "order_seats",
    "message": [
      "seats"
    ],
    "previousPageCode": "order_date",
    "buttons": [
      [
        {
          "textCode": "btn.seats.minus",
          "callBack": "seat_minus",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        },
        {
          "textCode": "0",
          "callBack": "order_seats",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        },
        {
          "textCode": "btn.seats.plus",
          "callBack": "seat_plus",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ],
      [
        {
          "textCode": "btn.save",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "has_seats",
              "value": true
            }
          ]
        }
      ]
    ]
  },
  {
    "pageCode": "add_comment",
    "message": [
      "order.comment"
    ],
    "previousPageCode": "order_seats",
    "buttons": [
      [
        {
          "textCode": "btn.skip",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "check_order",
    "message": [
      "check.order",
      "your.order.full"
    ],
    "previousPageCode": "add_comment",
    "buttons": [
      [
        {
          "textCode": "btn.confirm",
          "callBack": "confirm_order",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": [
            {
              "type": "order_complete",
              "value": true
            }
          ]
        }
      ],
      [
        {
          "textCode": "btn.cancel",
          "callBack": "cancel_order",
          "buttonType": "InlineKeyboardMarkup",
          "conditions": []
        }
      ]
    ]
  },
  {
    "pageCode": "confirm_order",
    "message": [
      "confirm.order"
    ],
    "previousPageCode": "check_order",
    "buttons": []
  }
]